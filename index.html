<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ò–º–±–æ–≤—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∏–∫–æ–≤</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      margin: 0;
      min-height: 100vh;
      background: radial-gradient(circle at top, #1a1a2e, #0f0f14);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: Inter, system-ui;
    }
    .app {
      max-width: 420px;
      width: 100%;
      padding: 24px;
      background: rgba(255,255,255,0.06);
      border-radius: 20px;
      text-align: center;
    }
    button {
      width: 100%;
      padding: 14px;
      margin-top: 10px;
      border-radius: 14px;
      border: none;
      background: linear-gradient(135deg,#ff4d6d,#ff7a18);
      color: white;
      font-weight: 700;
      cursor: pointer;
    }
    .tg {
      background: linear-gradient(135deg,#2AABEE,#229ED9);
      display: none;
    }
    .result {
      font-size: 20px;
      font-weight: 700;
      margin: 20px 0;
    }
  </style>
</head>
<body>

<div class="app">
  <h1>üé° –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–º–±–æ–≤—ã—Ö –Ω–∏–∫–æ–≤</h1>
  <p>–ö—Ä—É—Ç–∏ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–π –≤ TG</p>

  <div class="result" id="result">‚Äî</div>

  <button id="spin">–ö–†–£–¢–ò–¢–¨</button>
  <button id="send" class="tg">üì§ –û–¢–ü–†–ê–í–ò–¢–¨ –í TG</button>
</div>

<script>
  const nicks = [
    "–∞–Ω–∞–ª–∏—Ç–µ–∫ —Ç–∏—Ç–µ–∫",
    "–ø–µ—Ä—Ñ–æ—Ä–∞—Ç–æ—Ä –æ–ª–µ–≥–∞ 3000",
    "–¥–∏–≤–∞–Ω —Å —Ñ–µ–µ—á–∫–æ–π –≤–∏–Ω–∫—Å",
    "–¥–∏–≤–∞–Ω–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç —É–ª—å—Ç—Ä–∞",
    "—à–∞–º–∞–Ω –≤–∞–π—Ñ–∞—è",
    "–ø–æ–≤–µ–ª–∏—Ç–µ–ª—å –∫–Ω–æ–ø–∫–∏ F5",
    "–±–∞—Ç—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞"
  ];

  const result = document.getElementById("result");
  const spinBtn = document.getElementById("spin");
  const sendBtn = document.getElementById("send");

  let currentNick = "";

  spinBtn.onclick = () => {
    currentNick = nicks[Math.floor(Math.random() * nicks.length)];
    result.textContent = currentNick;
    sendBtn.style.display = "block";
  };

  sendBtn.onclick = async () => {
    sendBtn.textContent = "–û—Ç–ø—Ä–∞–≤–∫–∞...";
    sendBtn.disabled = true;

    await fetch("/api/send", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ nick: currentNick })
    });

    sendBtn.textContent = "‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ";
  };
</script>

</body>
</html>
